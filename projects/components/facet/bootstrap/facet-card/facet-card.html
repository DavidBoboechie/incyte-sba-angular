<div class="card" (click)="$event.stopPropagation()">
    <div class="card-header cursor-default ps-3 pe-2 py-1">
        <div class="d-flex">
            <div class="d-flex align-items-center text-truncate me-auto" [title]="(tooltip || title) | sqMessage">
                <div *ngIf="!!icon" class="card-icon {{icon}} me-2" aria-hidden="true"></div>
                <div *ngIf="title" class="card-title text-truncate mb-0 py-1 me-auto">{{title | sqMessage }}</div>
            </div>
            <ng-container *ngIf="facetComponent && facetComponent.headerTpl" [ngTemplateOutlet]="facetComponent.headerTpl">
            </ng-container>
            <div class="btn-group" [sq-action-buttons]="{items: allActions, style: buttonsStyle, size: actionsSize, rightAligned: true}"></div>
        </div>
        <ng-container *ngIf="facetComponent && facetComponent.subHeaderTpl" [ngTemplateOutlet]="facetComponent.subHeaderTpl"></ng-container>
    </div>
    <sq-collapse [collapsed]="_collapsed" *ngIf="!_settingsOpened">
        <ng-template>
            <ng-content>
            </ng-content>
        </ng-template>
    </sq-collapse>
    <ng-container *ngIf="hasSettings && _settingsOpened" [ngTemplateOutlet]="facetComponent?.settingsTpl"></ng-container>
    <ng-container class="card-footer" *ngIf="facetComponent && facetComponent.footerTpl" [ngTemplateOutlet]="facetComponent.footerTpl"></ng-container>
</div>
